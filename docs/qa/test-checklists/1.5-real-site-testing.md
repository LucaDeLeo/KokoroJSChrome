# Story 1.5 - Real Site Testing Checklist (AC5)

**Test Type**: Manual E2E Testing
**Story**: 1.5 - Create ContentExtractor Plugin
**Acceptance Criteria**: AC5 - Test extraction on: Wikipedia, Medium, CNN, BBC News, MDN Docs
**Status**: Ready for Execution

## Test Objectives

Verify that ContentExtractor plugin successfully extracts text content from real-world websites with varying HTML structures, including:
- Simple semantic HTML (Wikipedia)
- Complex article layouts (Medium, CNN, BBC News)
- Technical documentation (MDN Docs)

## Test Sites

### 1. Wikipedia
- **URL**: https://en.wikipedia.org/wiki/Text-to-speech
- **Expected Structure**: `<main>` element with nested `<article>` containing `<p>` tags
- **Extraction Mode**: Simple mode should work well (semantic HTML)

### 2. Medium
- **URL**: https://medium.com/@author/article (any tech article)
- **Expected Structure**: Complex div-based layout
- **Extraction Mode**: Advanced mode (Readability.js) required

### 3. CNN
- **URL**: https://www.cnn.com/news/article (any news article)
- **Expected Structure**: News site with ads and navigation
- **Extraction Mode**: Advanced mode (Readability.js) to filter ads

### 4. BBC News
- **URL**: https://www.bbc.com/news/article (any news article)
- **Expected Structure**: UK news site with sidebar content
- **Extraction Mode**: Advanced mode (Readability.js) recommended

### 5. MDN Docs
- **URL**: https://developer.mozilla.org/en-US/docs/Web/API/DOMParser
- **Expected Structure**: Documentation site with `<main>` and `<article>`
- **Extraction Mode**: Simple mode should work (semantic HTML)

## Test Scenarios

For each test site, perform the following:

### Scenario 1: Text Selection Extraction
1. Load the test site in Chrome with extension installed
2. Select a paragraph of text (20-50 words)
3. Verify floating button appears within 200ms
4. Click "Read Selection" button
5. **Expected**: Selected text extracted correctly
6. **Expected**: TTS request sent to background
7. **Result**: ✅ Pass / ❌ Fail

### Scenario 2: Full Article Extraction (Simple Mode)
1. Load the test site
2. Click extension icon or trigger "Read Page" action
3. Verify extraction completes in <500ms
4. **Expected**: Main article content extracted
5. **Expected**: Navigation, ads, footers excluded
6. **Expected**: Text is readable and coherent
7. **Result**: ✅ Pass / ❌ Fail

### Scenario 3: Full Article Extraction (Advanced Mode)
1. Load the test site
2. Trigger advanced extraction (Readability.js)
3. Verify extraction completes in <500ms
4. **Expected**: Clean article content extracted
5. **Expected**: Better filtering than simple mode
6. **Expected**: Title and metadata extracted
7. **Result**: ✅ Pass / ❌ Fail

### Scenario 4: Performance Verification
1. Open browser DevTools Console
2. Load test site
3. Extract content (both selection and full page)
4. Check console for performance metrics
5. **Expected**: extractionLatency < 500ms logged
6. **Result**: ✅ Pass / ❌ Fail

### Scenario 5: Error Handling
1. Test on page with minimal content
2. Test on page with CSP restrictions
3. Test on JavaScript-heavy single-page app
4. **Expected**: Graceful fallback to simple mode
5. **Expected**: No crashes or console errors
6. **Result**: ✅ Pass / ❌ Fail

## Acceptance Criteria

For AC5 to pass, the following must be verified:

- [ ] Wikipedia: Text extraction works correctly (simple mode preferred)
- [ ] Medium: Text extraction works correctly (advanced mode required)
- [ ] CNN: Text extraction works correctly (advanced mode, filters ads)
- [ ] BBC News: Text extraction works correctly (advanced mode)
- [ ] MDN Docs: Text extraction works correctly (simple mode sufficient)
- [ ] All sites: Extraction completes in <500ms (IV2)
- [ ] All sites: Floating button renders in <200ms (IV4)
- [ ] All sites: Navigation/ads/footers properly filtered
- [ ] All sites: Text is coherent and readable
- [ ] All sites: No JavaScript errors in console

## Test Results Template

### Site: [Site Name]
**Date**: [YYYY-MM-DD]
**Tester**: [Name]
**Browser**: Chrome [version]
**Extension Version**: 1.0.0

#### Scenario 1: Text Selection
- Status: ✅ Pass / ❌ Fail
- Notes: [Any observations]

#### Scenario 2: Simple Mode Extraction
- Status: ✅ Pass / ❌ Fail
- Extraction Time: [X ms]
- Content Quality: [Clean / Partial / Poor]
- Notes: [Any observations]

#### Scenario 3: Advanced Mode Extraction
- Status: ✅ Pass / ❌ Fail
- Extraction Time: [X ms]
- Content Quality: [Clean / Partial / Poor]
- Title Extracted: Yes / No
- Notes: [Any observations]

#### Scenario 4: Performance
- Extraction Latency: [X ms] (target: <500ms)
- Button Render Time: [X ms] (target: <200ms)
- Status: ✅ Pass / ❌ Fail

#### Scenario 5: Error Handling
- Graceful Fallback: Yes / No
- Console Errors: Yes / No
- Status: ✅ Pass / ❌ Fail

**Overall Site Result**: ✅ Pass / ❌ Fail

## Execution Instructions

### Prerequisites
1. Chrome browser with KokoroJS extension installed
2. Developer Tools open (Console tab)
3. Network connection for loading real sites

### Execution Steps
1. Open this checklist document
2. For each test site (Wikipedia, Medium, CNN, BBC News, MDN Docs):
   - Open site in new tab
   - Execute all 5 scenarios
   - Record results in template above
   - Screenshot any issues
3. Summary results at end of document

### Automation Notes
This manual checklist can be automated using:
- Playwright or Puppeteer for browser automation
- Screenshot comparison for visual regression
- Network mocking for reproducible tests
- Performance monitoring API integration

**Future Enhancement**: Convert to automated E2E test suite in `test/e2e/real-sites.test.js`

## Test Execution Log

### Execution 1
**Date**: Not Yet Executed
**Status**: Pending
**Tester**: TBD

---

**Document Version**: 1.0
**Created**: 2025-09-30
**Last Updated**: 2025-09-30
**Related Stories**: Story 1.5 (ContentExtractor Plugin)
**Related ACs**: AC5 (Test on 5 real sites)